<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>CF Stats</title>

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Inconsolata:wght@200..900&display=swap"
		rel="stylesheet">

	<link rel="stylesheet" href="style.css">

	<script src="https://cdn.jsdelivr.net/npm/chart.js@4.5.0"></script>
	<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0"></script>
	<script src="main.js" type="module"></script>
</head>

<body>
	<button type="button" id="hamburger" aria-label="Navigation menu button">
		<span></span>
		<span></span>
		<span></span>
	</button>

	<div id="nav-menu">
		<nav>
			<a href="#hero-section">Home</a>
			<a href="#analytics-section">Analytics</a>
			<a href="#practice-section">Practice</a>
		</nav>
		<div>
			<div id="high-contrast-container">
				<span>High Contrast</span>
				<label class="switch">
					<input type="checkbox" id="high-contrast-slider" aria-label="Toggle high contrast">
					<span class="slider"></span>
				</label>
			</div>
			<div class="theme-select">
				<label for="theme-select">Select Theme</label>
				<select id="theme-select" class="depth-1 depth-interactive">
					<option value="theme-catppuccin">Catppuccin Mocha</option>
					<option value="theme-gruvbox">Gruvbox</option>
				</select>
			</div>
		</div>
	</div>

	<section id="hero-section">
		<header class="hero">
			<h1 class="glow-text fade-in" style="animation-delay: 0.1s;">Codeforces<br>Insights</h1>
			<p class="fade-in" style="animation-delay: 0.35s;">
				<span class="blue-text">Track</span> your rating progress,
				<span class="blue-text">identify</span> your strengths and improvement opportunities,
				and <span class="blue-text">discover</span> patterns that help you
				<span class="aqua-text weight-450 glow-pulse">rank up faster</span>.
			</p>
			<div class="user-form-container fade-in" style="animation-delay: 0.5s;">
				<h2 class="">
					<span class="blue-text weight-450 glow-text">Analyze</span>
					your Codeforces history now.
				</h2>
				<form id="user-form" autocomplete="off">
					<input type="text" id="handle-input" class="depth-1 depth-interactive" placeholder="Enter Username"
						aria-label="Codeforces username input">
					<button type="submit" class="depth-1 depth-interactive">Analyze</button>
				</form>
			</div>
		</header>
		<div class="grid-bg"></div>
		<div class="hero-graph-container">
			<svg viewBox="0 0 400 400" preserveAspectRatio="xMinYMax slice">
				<title>Animated graph</title>
				<defs>
					<filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
						<feDropShadow dx="0" dy="3" stdDeviation="1.5" flood-color="black" flood-opacity="0.05" />
					</filter>
				</defs>
				<g filter="url(#glow)">
					<polyline class="animated-line" points="0,410 100,300 140,330 240,220 280,250 380,120"
						fill="none" />
					<circle data-index="0" cx="100" cy="300" r="3" />
					<circle data-index="1" cx="140" cy="330" r="3" />
					<circle data-index="2" cx="240" cy="220" r="3" />
					<circle data-index="3" cx="280" cy="250" r="3" />
					<circle data-index="4" cx="380" cy="120" r="3" />
				</g>
			</svg>
		</div>
	</section>

	<main>
		<section id="analytics-section" class="main-section">
			<h1 class="glow-text">Analytics</h1>
			<div class="analytics-grid">
				<div id="user-details" class="analytics-container depth-2" style="grid-area: user-info">
					<header class="analytics-header">
						<h2>User Info</h2>
					</header>
					<div class="analytics-content">
						<div id="user-stats">
							<h3 id="username">Placeholder</h3>
							<ul>
								<li>Rating: <span id="user-rating"></span></li>
								<li>Peak rating: <span id="user-peak-rating"></span></li>
								<li>Percentile: <span id="user-percentile"></span></li>
								<li>Country: <span id="user-country"></span></li>
							</ul>
						</div>
						<div class="depth-1">
							<img id="user-title-photo" src="https://userpic.codeforces.org/no-title.jpg"
								alt="User Title Photo">
						</div>
						<div class="loader"></div>
					</div>
				</div>
				<div id="solved-ratings" class="analytics-container depth-2" style="grid-area: solved-ratings">
					<header class="analytics-header">
						<h2>Rating distribution of solved problems</h2>
						<button id="toggle-800-rating" class="depth-1 depth-interactive" type="button"
							style="display: none;">
							Hide 800 Rating
						</button>
					</header>
					<div class="analytics-content">
						<div class=" chart-container">
							<canvas id="solved-ratings-chart" role="img"
								aria-label="Chart of solved problem ratings"></canvas>
						</div>
						<div class="loader"></div>
					</div>
				</div>
				<div id="solved-tags" class="analytics-container depth-2" style="grid-area: solved-tags">
					<header class="analytics-header">
						<h2>Solved Tags</h2>
						<button id="toggle-other-tags" class="depth-1 depth-interactive" type="button"
							style="display: none;">
							Toggle Other
						</button>
					</header>
					<div class="analytics-content">
						<div class="chart-container" style="align-self: center; aspect-ratio: 1">
							<canvas id="solved-tags-chart" role="img"
								aria-label="Chart of solved problem tags"></canvas>
						</div>
						<div class="loader"></div>
					</div>
				</div>
				<div id="rating-history" class="analytics-container depth-2" style="grid-area: rating-history">
					<header class="analytics-header">
						<h2>Rating History</h2>
						<div id="performance-loader" style="display: none;">
							<p>Calculating performance</p>
							<div>
								<div class="loader-small"></div>
							</div>
						</div>
					</header>
					<div class="analytics-content">
						<div class="chart-container">
							<canvas id="rating-history-chart" role="img" aria-label="Chart of rating history"></canvas>
						</div>
						<div class="loader"></div>
					</div>
				</div>
			</div>
		</section>

		<section id="practice-section" class="main-section">
			<h1 class="glow-text">Practice</h1>
			<h2>Coming Soonâ„¢!</h2>
		</section>
	</main>

	<footer>
		<p>Did you find this useful?<br><a href="https://github.com/yuqzii/codeforces-insights" target="_blank"
				rel="noopener noreferrer">Star the repository on GitHub!</a></p>
		<a href="https://github.com/yuqzii/codeforces-insights" class="gh-button" target="_blank"
			rel="noopener noreferrer">
			<svg viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd"
					d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"
					fill="currentColor" />
			</svg>
		</a>
	</footer>

</body>

</html>
